<!DOCTYPE html>
<html lang="{{ site.lang | default: "en-US" }}">
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link rel="stylesheet" href="{{ '/assets/css/style.css?v=' | append: site.github.build_revision | relative_url }}" media="screen" type="text/css">
    <link rel="stylesheet" href="{{ '/assets/css/print.css' | relative_url }}" media="print" type="text/css">
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
    <![endif]-->
    {% seo %}
    {% include head-custom.html %}
    <script src="/assets/js/loadPackages.js"></script>
    <script src="/assets/js/loadExtensions.js"></script> 
    <script src="/assets/js/loadAdvancedSettings.js"></script>
    <script src="/assets/js/loadGenerateDevCon.js"></script>    
    <script src="/assets/js/loadDownloadOption.js"></script>
  </head>

  <body>
    <header>
      <div class="inner">
        <a href="{{ '/' | absolute_url }}">
          <h1>{{ site.title | default: site.github.repository_name }}</h1>
        </a>
        <h2>{{ site.description | default: site.github.project_tagline }}</h2>
        {% if site.github.is_project_page %}
          <a href="{{ site.github.repository_url }}" class="button"><small>View project on</small> GitHub</a>
        {% endif %}
        {% if site.github.is_user_page %}
          <a href="{{ site.github.owner_url }}" class="button"><small>Follow me on</small> GitHub</a>
        {% endif %}
      </div>
    </header>

    <div id="content-wrapper">
    <div class="inner clearfix">
    <section id="main-content">
    <h1>Design Codespace</h1>
    <p>Configure your GitHub Codespace environment:</p>
    <!-- Name -->
    <label for="nameField">Name:</label>
    <input type="text" id="nameField" name="name" placeholder="Enter name of the Codespace">

    <!-- Container Image Selector -->
    <label for="packageSelector">Select Container Image:</label>
    <select id="packageSelector"></select>
        
<!-- CPU and Ports Container -->
<div class="input-row">
    <!-- CPU Selector -->
    <div class="input-group">
        <label for="cpuSelector">Number of CPUs:</label>
        <input type="number" id="cpuSelector" name="cpus" min="1" max="8" value="2">
    </div>

    <!-- Ports -->
    <div class="input-group">
        <label for="ports">Forward Ports (comma-separated, e.g., 8080, 8787,8181):</label>
        <input type="text" id="ports" name="ports" placeholder="Enter ports">
    </div>
</div>

     <!-- Workspace Folder -->
    <label for="workspaceField">Workspace Folder:</label>
    <input type="text" id="workspaceField" name="workspace" placeholder="Enter workspace folder path if any e.g. /home/rstudio/workspace ">
    <!-- VS Code Extensions -->
    <label for="extensionSelector">Select VS Code Extensions:</label>
    <select id="extensionSelector" multiple>
      <!-- Options will be populated dynamically -->
    </select>
<!-- Advanced Settings Toggle -->
    <button onclick="toggleAdvancedSettings()">View Advanced Settings</button>

    <!-- Advanced Settings Container -->
<div id="advancedSettings" style="display: none;">
    <!-- Ports -->

        <!-- Update Content Command -->
        <label for="updateContentCommand">Update Content Command:</label>
        <textarea id="updateContentCommand" placeholder="Command to Update container e.g., python3 -m pip install -r requirements.txt"></textarea>

        <!-- Post Create Command -->
        <label for="postCreateCommand">Post Create Command:</label>
        <textarea id="postCreateCommand" placeholder="Command to run after creating the container"></textarea>

        <!-- Post Start Command -->
        <label for="postStartCommand">Post Start Command:</label>
        <textarea id="postStartCommand" placeholder="Command to run after starting the container e.g. ./post_start.sh"></textarea>
    </div>
            
    <!-- Generate Button -->
    <button onclick="generateDevContainerJSON()">Generate Configuration</button>
    <!-- Download Button -->
    <button id="downloadBtn" style="display:none;" onclick="downloadJSON()">Download devcontainer.json</button>
    
    <!-- Output -->
    <h2>Generated Devcontainer:</h2>
    <pre id="output"></pre>
{{ content }}
</section>
        <aside id="sidebar">
          {% if site.show_downloads %}
            <a href="{{ site.github.zip_url }}" class="button">
              <small>Download</small>
              .zip file
            </a>
            <a href="{{ site.github.tar_url }}" class="button">
              <small>Download</small>
              .tar.gz file
            </a>
          {% endif %}

          {% if site.github.is_project_page %}
            <p class="repo-owner"><a href="{{ site.github.repository_url }}">{{ site.github.repository_name }}</a> is maintained by <a href="{{ site.github.owner_url }}">{{ site.github.owner_name }}</a>.</p>
          {% endif %}
    
          <p>This page was generated by <a href="https://pages.github.com">GitHub Pages</a>.</p>
        </aside>
      </div>
    </div>

  </body>
</html>
